# grunt

[![Package Version](https://img.shields.io/hexpm/v/grunt)](https://hex.pm/packages/grunt)
[![Hex Docs](https://img.shields.io/badge/hex-docs-ffaff3)](https://hexdocs.pm/grunt/)


## Overview

This software functions as a Mumble API, written in Gleam.

As there is no Protobuf implementation written in Gleam, we are presently having to:
- use Erlang `gpb` to create Erlang outputs
- use FFI, via Gleam's `@external`, to call out to the Erlang functions generated by Protobuf
- manually craft the relevant Gleam types to get interop to work

Ideally, we should be able to generate the code for gleam based on what we see in the Erlang files... essentially creating a Gleam Protobuf that functions off of Erlang Protobuf.

... one for the future?

## Setup

```bash
gleam deps update
./build/packages/gpb/bin/protoc-erl -I. mumble.proto
erlc -I build/packages/gpb/include mumble.erl
mv mumble.erl src/
mv mumble.hrl src/
```

Note; when running `gleam run` for the first time after running the above script, we get a lot of `There was a problem running the shell command 'escript'`

Running it a second time fixes this problem.

... I have no idea why!

---

```sh
gleam add grunt@1
```
```gleam
import grunt

pub fn main() {
  // TODO: An example of the project in use
}
```

Further documentation can be found at <https://hexdocs.pm/grunt>.

## Development

```sh
gleam run   # Run the project
gleam test  # Run the tests
```
